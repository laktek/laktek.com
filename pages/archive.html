<!doctype html>
<html lang=${ site.language }>
  ${ Punch.partial("head", { site, title: "Archive"  }) }
  <body>
    ${ Punch.partial("topbar") }
      <main class="posts">
        <h2>Archive</h2>
        <ul>
        ${ Punch.all({ from: "posts", order_by: "published_at desc" }, (post) => `
          <li>
              <a href="${ post.legacy_slug ?? post.slug }">${ post.title }</a>
              <time class="updated" pubdate datetime=${new Date(post.published_at)}>
                ${new Intl.DateTimeFormat('en-GB', { dateStyle: 'long' }).format(new Date(post.published_at))}
              </time>
          </li>
        `)}
        </ul>
      </main>
      ${ Punch.partial("footer") }
  </body>
</html>
